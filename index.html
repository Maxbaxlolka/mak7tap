<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>HTML5 Slot Game 3x3 Football</title>
<style>
html, body {margin:0; padding:0; width:100%; height:100%; background: radial-gradient(circle at top, #0b0b0b, #000); overflow:hidden; font-family: Arial, sans-serif;}
#slotButton {position: fixed; inset:0; display:flex; align-items:center; justify-content:center; cursor:pointer; transition: background 0.5s;}
#slotButton:hover {background: radial-gradient(circle at center, #222, #111);}
.icon {width: 35vw; height: 35vw; max-width:180px; max-height:180px; border-radius:50%; background: linear-gradient(180deg,#ffcc00,#ff8800); display:flex; align-items:center; justify-content:center; font-size: clamp(48px,12vw,96px); box-shadow: 0 10px 30px rgba(0,0,0,0.6); transition: transform 0.2s ease, box-shadow 0.2s ease; animation:pulse 1.5s infinite alternate;}
.icon:active {transform:scale(0.92); box-shadow:0 5px 15px rgba(0,0,0,0.8);}
@keyframes pulse {0% {transform:scale(1);}100%{transform:scale(1.05);}}
#game {position:fixed; inset:0; display:none; flex-direction:column; justify-content:flex-start; align-items:center; background: radial-gradient(circle at center,#111,#000); animation:fadeIn 0.5s ease; overflow:hidden; padding-top:2vh;}
@keyframes fadeIn {from{opacity:0;} to{opacity:1;}}
#topBar {width:100%; padding:2vh; display:flex; justify-content:flex-end; position:relative;}
#balance {position:absolute; left:50%; transform:translateX(-50%); color:#fff; font-size:24px; font-weight:bold;}
#close {font-size:24px; background:none; color:#fff; border:none; cursor:pointer; transition:transform 0.2s;}
#close:hover {transform:scale(1.2);}
#reels {flex:1; display:grid; grid-template-columns: repeat(3,1fr); grid-template-rows: repeat(3,1fr); gap:1vw; width:90%; height:60%; perspective:1000px; margin-top:2vh;}
.reel {background: linear-gradient(to bottom,#222,#111); border-radius:3vw; display:flex; align-items:center; justify-content:center; font-size:clamp(42px,9vw,72px); color:#ffd700; box-shadow: inset 0 0 15px rgba(255,255,0,0.3); transition: transform 0.2s ease, box-shadow 0.2s ease; transform-style: preserve-3d;}
#controls {width:100%; padding:2vh; display:flex; justify-content:center; flex-direction: column; align-items: center; gap: 1vh;}
#spin {width:70%; max-width:400px; height:8vh; font-size:clamp(18px,5vw,28px); border:none; border-radius:4vh; background: linear-gradient(180deg,#ffcc00,#ff9900); font-weight:bold; cursor:pointer; transition:transform 0.2s;}
#spin:hover {transform:scale(1.05);}
#spin:disabled {opacity:0.6; cursor:not-allowed;}
#flash {position:absolute; inset:0; background:rgba(255,255,255,0.3); display:none; pointer-events:none; animation:flashAnim 0.3s ease;}
#counter {color:#fff; font-size:24px;}
@keyframes flashAnim {0%{opacity:0.8;}100%{opacity:0;}}
canvas {position:absolute; inset:0; pointer-events:none;}
</style>
</head>
<body>
<div id="flash"></div>
<canvas id="confetti"></canvas>
<audio id="spinSound" src="soccer-ball-bounce-grass_fyhd2tnu.mp3"></audio>
<audio id="winSound" src="game-bonus-02-294436.mp3"></audio></audio>
<audio id="tripleBallSound" src="b0c350c8f61177f.mp3"></audio>
<audio id="bgMusic" loop></audio>
<div id="slotButton"><div class="icon">üé∞</div></div>
<div id="game">
  <div id="topBar">
    <button id="close">‚úï</button>
    <div id="balance">–ë–∞–ª–∞–Ω—Å: 100</div>
  </div>
  <div id="reels"></div>
  <div id="controls">
    <select id="bet"><option value="2">–°—Ç–∞–≤–∫–∞: 2</option></select>
    <button id="spin">SPIN</button>
    <div id="counter">–ü—Ä–æ–∫—Ä—É—Ç–æ–≤: 0</div>
  </div>
  </div>
</div>
<script>
const symbols=['‚öΩ','ü•á','ü•à','ü•â','üëü','üî¥','üü°','ü•Ö','üèÜ','üß§','üß¶'];
// –£–º–µ–Ω—å—à–µ–Ω–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–ø–∞–¥–µ–Ω–∏—è –º—è—á–µ–π –¥–æ 175 –µ–¥–∏–Ω–∏—Ü
const weights={'‚öΩ':175,'ü•á':375,'ü•à':375,'ü•â':300,'üëü':300,'üî¥':250,'üü°':250,'ü•Ö':300,'üèÜ':200,'üß§':150,'üß¶':150};
const reelsContainer=document.getElementById('reels');
let reels=[];
for(let i=0;i<9;i++){let div=document.createElement('div'); div.className='reel'; div.textContent=randomSymbol(); reels.push(div); reelsContainer.appendChild(div);}
const flash=document.getElementById('flash');
const confettiCanvas=document.getElementById('confetti');
const ctx=confettiCanvas.getContext('2d');
let confettiParticles=[];
const spinSound=document.getElementById('spinSound');
const winSound=document.getElementById('winSound');
const tripleBallSound=document.getElementById('tripleBallSound');
const bgMusic=document.getElementById('bgMusic');
bgMusic.src = 'uefyty cool.mp3'; bgMusic.volume=0.3; bgMusic.play().catch(()=>{});
let spinCount = 0;
let balance = 100;
let currentBet = 2;
let freeSpins = 0;
const counterDisplay = document.getElementById('counter');
const betSelect = document.getElementById('bet');
betSelect.onchange = ()=>{ currentBet = parseInt(betSelect.value); };
const balanceDisplay = document.getElementById('balance');
function updateBalanceDisplay(){balanceDisplay.textContent = `–ë–∞–ª–∞–Ω—Å: ${balance}`;}
function resizeCanvas(){confettiCanvas.width=window.innerWidth; confettiCanvas.height=window.innerHeight;}
window.addEventListener('resize',resizeCanvas); resizeCanvas();
function randomSymbol(){
  let total = 0;
  for(let s in weights){total += weights[s];}
  let r = Math.random()*total;
  for(let s in weights){
    if(r < weights[s]) return s;
    r -= weights[s];
  }
  return '‚öΩ';
}
function createConfetti(){confettiParticles=[]; for(let i=0;i<200;i++){confettiParticles.push({x:Math.random()*window.innerWidth, y:Math.random()*-window.innerHeight, w:Math.random()*6+4, h:Math.random()*12+8, color:`hsl(${Math.random()*360},100%,50%)`, speed:Math.random()*5+2, rotate:Math.random()*360});}}
function drawConfetti(){ctx.clearRect(0,0,window.innerWidth,window.innerHeight); confettiParticles.forEach(p=>{ctx.fillStyle=p.color; ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rotate*Math.PI/180); ctx.fillRect(-p.w/2,0,p.w,p.h); ctx.restore(); p.y+=p.speed; p.rotate+=10; if(p.y>window.innerHeight){p.y=-10; p.x=Math.random()*window.innerWidth;}}); requestAnimationFrame(drawConfetti);}
requestAnimationFrame(drawConfetti);
function spinReel(reel, delay, onComplete){let spins=25; let speed=50; const interval=setInterval(()=>{reel.textContent=randomSymbol(); reel.style.transform=`rotateX(${Math.random()*15-7.5}deg)`; speed+=5; spins--; if(spins<=0){clearInterval(interval); reel.style.transform='rotateX(0deg)'; if(onComplete) onComplete();}},speed);}
function triggerWinEffect(){flash.style.display='block'; createConfetti(); winSound.play(); setTimeout(()=>{flash.style.display='none';},300);}
function checkHorizontalWins(){
  for(let row=0;row<3;row++){
    let left=reels[row*3].textContent;
    let middle=reels[row*3+1].textContent;
    let right=reels[row*3+2].textContent;
    if(left==='‚öΩ' && middle==='‚öΩ' && right==='‚öΩ'){
      freeSpins += 12;
      tripleBallSound.play();
      alert('–í—ã –ø–æ–ª—É—á–∏–ª–∏ 12 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Ñ—Ä–∏-—Å–ø–∏–Ω–æ–≤!');
    }
    if(left===middle && left===right){balance += 15; triggerWinEffect();}
    else if(left===middle){balance += 2; triggerWinEffect();}
  }
}
function spinSlot(){
  const spinButton = document.getElementById('spin');
  if(balance <= 0 && freeSpins===0) return;
  spinButton.disabled = true;
  spinSound.play();
  if(freeSpins===0){balance -= currentBet;}
  spinCount++;
  counterDisplay.textContent = `–ü—Ä–æ–∫—Ä—É—Ç–æ–≤: ${spinCount}`;
  updateBalanceDisplay();
  let completed = 0;
  reels.forEach((r,i)=>{
    spinReel(r,50+i*10,()=>{
      completed++;
      if(completed===reels.length){
        checkHorizontalWins();
        updateBalanceDisplay();
        if(freeSpins>0){freeSpins--; setTimeout(spinSlot,500);} else {spinButton.disabled = false;}
      }
    });
  });
}
document.getElementById('spin').onclick=spinSlot;
document.getElementById('slotButton').onclick=()=>{document.getElementById('slotButton').style.display='none'; document.getElementById('game').style.display='flex'; bgMusic.play().catch(()=>{});};
document.getElementById('close').onclick=()=>{document.getElementById('game').style.display='none'; document.getElementById('slotButton').style.display='flex'; bgMusic.pause();};
function resizeFix(){document.body.style.height=window.innerHeight+'px';}
window.addEventListener('resize',resizeFix); resizeFix();
</script>
</body>
</html>
